(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{561:function(t,s,a){"use strict";a.r(s);var e=a(3),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"title"}),a("p",[t._v("搭建网站，有强大精美的后台系统")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"上手"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#上手"}},[t._v("#")]),t._v(" 上手：")]),t._v(" "),a("h3",{attrs:{id:"安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://wordpress.org/support/article/how-to-install-wordpress/",target:"_blank",rel:"noopener noreferrer"}},[t._v("安装"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"资源"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#资源"}},[t._v("#")]),t._v(" 资源")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://www.jianshu.com/u/199fee2e0fd9",target:"_blank",rel:"noopener noreferrer"}},[t._v("教程 1"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://blog.wpjam.com/m/wp-theme-lesson-3-starting-indexphp/",target:"_blank",rel:"noopener noreferrer"}},[t._v("教程 2"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"高级样式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#高级样式"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://www.kancloud.cn/gitcafe/yunluo_wp_code/1316529",target:"_blank",rel:"noopener noreferrer"}},[t._v("高级样式"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"创建网站准备"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建网站准备"}},[t._v("#")]),t._v(" 创建网站准备")]),t._v(" "),a("p",[t._v("1 根目录下要有新的 wordpress")]),t._v(" "),a("p",[t._v("2 创建一个数据库，在 phpstudy 中创建")]),t._v(" "),a("p",[t._v("3 phpstudy 的 mysql,Nginx/apache 要运行起来")]),t._v(" "),a("h2",{attrs:{id:"语法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#语法"}},[t._v("#")]),t._v(" 语法：")]),t._v(" "),a("h3",{attrs:{id:"链接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#链接"}},[t._v("#")]),t._v(" 链接")]),t._v(" "),a("p",[t._v("the_permalink() 日志的链接")]),t._v(" "),a("p",[t._v("bloginfo(‘url’) 首页链接")]),t._v(" "),a("p",[t._v("screenshot.png 该图片为主题预览图")]),t._v(" "),a("h4",{attrs:{id:"home-url"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#home-url"}},[t._v("#")]),t._v(" home_url")]),t._v(" "),a("p",[t._v("介绍：首页地址")]),t._v(" "),a("p",[t._v("作用：更改成你希望访问的网址 esc_url 主要用于 URL 过滤")]),t._v(" "),a("p",[t._v("例子：")]),t._v(" "),a("div",{staticClass:"language-php line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$url")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" home_url（"),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'/'")]),t._v("）"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("echo")]),t._v(" esc_url（"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$url")]),t._v("）"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//输出：http://www.xuxiaoke.com/")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$url")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" home_url（"),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'example'")]),t._v("，"),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'relative'")]),t._v("）"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("echo")]),t._v(" esc_url（"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$url")]),t._v("）"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//输出：/example")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])]),a("h3",{attrs:{id:"分类相关"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#分类相关"}},[t._v("#")]),t._v(" 分类相关")]),t._v(" "),a("p",[a("a",{attrs:{href:"http://www.thefox.cn/the-wordpress-topic-sidebar-adds-a-cla.shtml",target:"_blank",rel:"noopener noreferrer"}},[t._v("只展示指定分类内容"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("友情链接函数和获取链接函数")]),t._v(" "),a("div",{staticClass:"language-php line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$bookmarks")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_bookmarks")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'category_name=wgrzfs'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wp_list_bookmarks")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'title_li=0&categorize=0&category_name=wgrzfs&orderby=rating&limit=5'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("p",[t._v("获取分类页标题和链接")]),t._v(" "),a("div",{staticClass:"language-php line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token php language-php"}},[a("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("<?php")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$category_id")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_cat_ID")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'外国人在佛山'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$category_link")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_category_link")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$category_id")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("?>")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("h3",{attrs:{id:"文章相关"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文章相关"}},[t._v("#")]),t._v(" 文章相关")]),t._v(" "),a("p",[t._v("显示上下篇文章")]),t._v(" "),a("div",{staticClass:"language-php line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("previous_post_link")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'%link'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'%title'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("next_post_link")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'%link'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'%title'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("h3",{attrs:{id:"模板文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#模板文件"}},[t._v("#")]),t._v(" 模板文件")]),t._v(" "),a("p",[t._v("header.php: 通常用于描述网站标题和导航栏，可以在不同页面中多次使用")]),t._v(" "),a("p",[t._v("index.php:核心索引文件，包含日志标题、内容、元数据")]),t._v(" "),a("p",[t._v("single.php:通常包含页面列表、友情链接列表、存档列表、类别列表和其他一些列表")]),t._v(" "),a("p",[t._v("footer.php:用于注释版权信息，通常不会因页面的改变而改变，和 header.php 一样可在多个页面使用")]),t._v(" "),a("p",[t._v("page.php:文章类型的详情页模板文件")]),t._v(" "),a("p",[t._v("archieve.php:默认存档页")]),t._v(" "),a("p",[t._v("search.php:搜索页")]),t._v(" "),a("h3",{attrs:{id:"函数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#函数"}},[t._v("#")]),t._v(" 函数")]),t._v(" "),a("ul",[a("li",[t._v("在 index 中的应用")])]),t._v(" "),a("p",[t._v("主循环: 以 if while 开始 endwhile endif 结束，用于遍历日志，可加 else 调用 404 模板")]),t._v(" "),a("p",[t._v("have_posts();置于 if 中判断日志是否存在，没有则显示 404")]),t._v(" "),a("p",[t._v("the_ID(); 赋予随机且各不相同的 id，配合 id=”post-<?php the_ID ?>”即可给每个日志赋予不同 id")]),t._v(" "),a("p",[t._v("the_permalink();获取日志链接")]),t._v(" "),a("p",[t._v("the_title();显示日志标题")]),t._v(" "),a("p",[t._v("the_content;显示日志内容")]),t._v(" "),a("p",[t._v("the_exerpt();显示部分内容，可用于代替 the_content")]),t._v(" "),a("p",[t._v("include:调用文件，例如")]),t._v(" "),a("p",[t._v("include(TEMPLATEPATH . ’/comments.php’)")]),t._v(" "),a("p",[t._v("comments_template(); 调用留言区")]),t._v(" "),a("p",[t._v("post_nav_link(); 不同页面间添加关联")]),t._v(" "),a("p",[t._v("get_sidebar(), get_header()...调用模板文件")]),t._v(" "),a("ul",[a("li",[t._v("在 header 中的应用")])]),t._v(" "),a("p",[t._v("如何调用 css 样式")]),t._v(" "),t._v("<?php bloginfo(‘stylesheet_url’) ?>\n"),a("p",[t._v("bloginfo(‘url)、bloginfo(‘name’)、bloginfo(‘description’)")]),t._v(" "),a("p",[t._v("调用/显示主题链接、名字、描述")]),t._v(" "),a("p",[t._v("wp_nav_menu()调用菜单，要 register_nav_menus()先注册菜单，方可使用")]),t._v(" "),a("ul",[a("li",[t._v("在 function 中的应用")])]),t._v(" "),a("p",[t._v("add_action() 将函数连接到指定的动作")]),t._v(" "),a("p",[t._v("add_filter() 将函数连接到指定的过滤器动作，如可添加函数更改要显示的字体长度")]),t._v(" "),a("div",{staticClass:"language-php line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 添加友情链接")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add_filter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'pre_option_link_manager_enabled'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'__return_true'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("p",[t._v("wp_list_bookmarks() 友情链接 "),a("a",{attrs:{href:"https://wordpress.org/support/article/how-to-install-wordpress/",target:"_blank",rel:"noopener noreferrer"}},[t._v("如何使用"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"其他"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#其他"}},[t._v("#")]),t._v(" 其他")]),t._v(" "),a("p",[t._v("body_class() 根据不同页面类型判断 body 的 class 选择器,便于灵活控制不同页面的各个元素")]),t._v(" "),a("p",[t._v("thumbnail 缩略图")]),t._v(" "),a("p",[t._v("global 全局变量")]),t._v(" "),a("h2",{attrs:{id:"功能"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#功能"}},[t._v("#")]),t._v(" 功能：")]),t._v(" "),a("h3",{attrs:{id:"在一模板文件传参给另一模板文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在一模板文件传参给另一模板文件"}},[t._v("#")]),t._v(" 在一模板文件传参给另一模板文件")]),t._v(" "),a("div",{staticClass:"language-php line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("set_query_var")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("‘i’"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$i")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//模板文件中设置参数")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$i")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_query_var")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("‘i’"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//另一模板文件接收")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("h3",{attrs:{id:"上传文件大小限制-在-php-ini-中修改"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#上传文件大小限制-在-php-ini-中修改"}},[t._v("#")]),t._v(" 上传文件大小限制，在 php.ini 中修改")]),t._v(" "),a("p",[t._v("upload_max_filesize = 64M\npost_max_size = 64M\nmax_execution_time = 300")]),t._v(" "),a("p",[t._v("然后在 nginx-配置-性能配置-请求大小-修改")]),t._v(" "),a("h2",{attrs:{id:"问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#问题"}},[t._v("#")]),t._v(" 问题;")]),t._v(" "),a("h3",{attrs:{id:"无法显示菜单和小工具"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#无法显示菜单和小工具"}},[t._v("#")]),t._v(" 无法显示菜单和小工具")]),t._v(" "),a("p",[t._v("原因:文件命名为 function.php 错误，应为 functions.php")]),t._v(" "),a("p",[t._v("解决方法：复制可以别的主题的 function.php")]),t._v(" "),a("h3",{attrs:{id:"无法出现仪表盘"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#无法出现仪表盘"}},[t._v("#")]),t._v(" 无法出现仪表盘")]),t._v(" "),a("p",[t._v("网址后加上 wp-login.php")]),t._v(" "),a("h3",{attrs:{id:"文章页面-found-404"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文章页面-found-404"}},[t._v("#")]),t._v(" 文章页面 found 404")]),t._v(" "),a("p",[t._v("url 别名不能设置为中文")]),t._v(" "),a("h3",{attrs:{id:"菜单和小工具点击不跳转页面"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#菜单和小工具点击不跳转页面"}},[t._v("#")]),t._v(" 菜单和小工具点击不跳转页面")]),t._v(" "),a("p",[t._v("该网址的别名为中文")]),t._v(" "),a("h2",{attrs:{id:"注意"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#注意"}},[t._v("#")]),t._v(" 注意：")]),t._v(" "),a("p",[t._v("要把分类目录的分类标题隐藏，可直接 css 中 display：none")]),t._v(" "),a("p",[t._v("误把 http 改为 https,打开数据库的 wp-options 文件，修改网址即可")]),t._v(" "),a("p",[t._v("the_title()是输出字符串，the_category()是输出链接，要获取里面的内容，可用变量承接再 var_dump 输出源内容，使用相应的数组元素")]),t._v(" "),a("p",[t._v("固定链接设置改变的不仅仅是网址名称，还会使该页面带上添加标签的内容，如添加了 categories 就会把所有该分类的内容都放进页面中")])])}),[],!1,null,null,null);s.default=n.exports}}]);